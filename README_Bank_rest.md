# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É Bank Cards Management System

## –ß—Ç–æ –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø—Ä–æ–µ–∫—Ç–∞ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:

1. **Java 17 –∏–ª–∏ –≤—ã—à–µ**
   - –°–∫–∞—á–∞—Ç—å –º–æ–∂–Ω–æ —Å https://adoptium.net/ (—Ä–µ–∫–æ–º–µ–Ω–¥—É—é OpenJDK)
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É: `java -version`

2. **Maven 3.6+**
   - –°–∫–∞—á–∞—Ç—å –º–æ–∂–Ω–æ —Å https://maven.apache.org/download.cgi
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É: `mvn -version`

3. **Docker Desktop**
   - –ù—É–∂–µ–Ω –¥–ª—è –∑–∞–ø—É—Å–∫–∞ PostgreSQL —á–µ—Ä–µ–∑ Docker Compose
   - –°–∫–∞—á–∞—Ç—å –º–æ–∂–Ω–æ —Å https://www.docker.com/products/docker-desktop
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É: `docker --version` –∏ `docker-compose --version`

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–Ω–∞—á–∞–ª–∞, –∏–Ω–∞—á–µ –Ω–∏—á–µ–≥–æ –Ω–µ –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç.

## –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### –®–∞–≥ 1: –ó–∞–ø—É—Å–∫ PostgreSQL

–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª (PowerShell –∏–ª–∏ cmd) –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```powershell
docker-compose up -d
```

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞:
- –°–∫–∞—á–∞–µ—Ç –æ–±—Ä–∞–∑ PostgreSQL 15 (–µ—Å–ª–∏ –µ–≥–æ –µ—â—ë –Ω–µ—Ç)
- –ó–∞–ø—É—Å—Ç–∏—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –ë–î –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
- –°–æ–∑–¥–∞—Å—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö `bankcards`
- –ù–∞—Å—Ç—Ä–æ–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `postgres` —Å –ø–∞—Ä–æ–ª–µ–º `postgres`

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—Å—Ç–∏–ª—Å—è –º–æ–∂–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π:
```powershell
docker ps
```

–î–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∏–¥–µ–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `bankcards-postgres` —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "Up".

–ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏–ª–∏ –ø–∞–¥–∞–µ—Ç - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
```powershell
docker-compose logs
```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `src/main/resources/application.yml`.

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å—ë –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
- –ü–æ—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: 8080
- –ë–î: localhost:5432/bankcards
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ë–î: postgres/postgres

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å –ø–æ—Ä—Ç –∏–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î - –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `application.yml`. –ò–ª–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (Spring Boot –∏—Ö –ø–æ–¥—Ö–≤–∞—Ç–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏):
- `SPRING_DATASOURCE_URL`
- `SPRING_DATASOURCE_USERNAME`
- `SPRING_DATASOURCE_PASSWORD`
- `SERVER_PORT`

### –®–∞–≥ 3: –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü–µ—Ä–≤–∞—è —Å–±–æ—Ä–∫–∞ –∑–∞–π–º—ë—Ç 2-5 –º–∏–Ω—É—Ç (Maven –±—É–¥–µ—Ç —Å–∫–∞—á–∏–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏).

```powershell
mvn clean install
```

–ï—Å–ª–∏ —Å–±–æ—Ä–∫–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ - —É–≤–∏–¥–∏—Ç–µ `BUILD SUCCESS` –≤ –∫–æ–Ω—Ü–µ.

–ï—Å–ª–∏ –±—ã–ª–∏ –æ—à–∏–±–∫–∏ - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Java (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–µ—Ä—Å–∏—è 17+)
- –î–æ—Å—Ç—É–ø–µ–Ω –ª–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç (Maven –∫–∞—á–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è)
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω Maven (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ `mvn -version`)

### –®–∞–≥ 4: –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ï—Å—Ç—å –¥–≤–∞ —Å–ø–æ—Å–æ–±–∞:

**–°–ø–æ—Å–æ–± 1 - —á–µ—Ä–µ–∑ Maven:**
```powershell
mvn spring-boot:run
```

**–°–ø–æ—Å–æ–± 2 - —á–µ—Ä–µ–∑ JAR:**
```powershell
mvn clean package
java -jar target/bank-cards-1.0.0.jar
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ `http://localhost:8080`

–ï—Å–ª–∏ –ø–æ—Ä—Ç 8080 –∑–∞–Ω—è—Ç –¥—Ä—É–≥–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º - –±—É–¥–µ—Ç –æ—à–∏–±–∫–∞ "Port 8080 was already in use". –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –ª–∏–±–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥—Ä—É–≥–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –ª–∏–±–æ –ø–æ–º–µ–Ω—è–π—Ç–µ –ø–æ—Ä—Ç –≤ `application.yml`.

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å—Ç–∏–ª–æ—Å—å –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã–≤ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
- http://localhost:8080/swagger-ui.html

–î–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è Swagger UI —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π API.

### –®–∞–≥ 5: –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è:

**–†–æ–ª–∏:**
- ROLE_ADMIN
- ROLE_USER

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:**
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä: `admin` / `admin123`
- –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: `user` / `user123`

–≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ —Å–æ–∑–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –∫–ª–∞—Å—Å `DataInitializer` –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –µ—â—ë –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –ë–î).

## –†–∞–±–æ—Ç–∞ —Å API

### Swagger UI

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
- http://localhost:8080/swagger-ui.html

–¢–∞–º –±—É–¥–µ—Ç –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API —Å–æ –≤—Å–µ–º–∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º–∏. –ú–æ–∂–Ω–æ –ø—Ä—è–º–æ –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã.

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ Swagger UI

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –∑–∞—â–∏—â—ë–Ω–Ω—ã–º–∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º–∏ –Ω—É–∂–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è:

1. –ù–∞–π–¥–∏—Ç–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç `POST /api/auth/login` –≤ Swagger UI
2. –ù–∞–∂–º–∏—Ç–µ "Try it out"
3. –í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞:
   ```json
   {
     "username": "admin",
     "password": "admin123"
   }
   ```
4. –ù–∞–∂–º–∏—Ç–µ "Execute"
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è `token` –∏–∑ –æ—Ç–≤–µ—Ç–∞
6. –í –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É Swagger UI –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Authorize" (üîí)
7. –í—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ –ø–æ–ª–µ "Value" (–º–æ–∂–Ω–æ –±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞ "Bearer")
8. –ù–∞–∂–º–∏—Ç–µ "Authorize", –∑–∞—Ç–µ–º "Close"

–¢–µ–ø–µ—Ä—å –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω.

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:**
- `POST /api/auth/login` - –≤—Ö–æ–¥, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JWT —Ç–æ–∫–µ–Ω

**–ö–∞—Ä—Ç—ã (–Ω—É–∂–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è):**
- `GET /api/cards` - —Å–ø–∏—Å–æ–∫ —Å–≤–æ–∏—Ö –∫–∞—Ä—Ç (–µ—Å—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã: cardholderName, status, –ø–∞–≥–∏–Ω–∞—Ü–∏—è)
- `GET /api/cards/{id}` - –ø–æ–ª—É—á–∏—Ç—å –∫–∞—Ä—Ç—É –ø–æ ID
- `POST /api/cards` - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∫–∞—Ä—Ç—É
- `PATCH /api/cards/{id}/status` - –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫–∞—Ä—Ç—ã (ACTIVE/BLOCKED/EXPIRED)
- `DELETE /api/cards/{id}` - —É–¥–∞–ª–∏—Ç—å –∫–∞—Ä—Ç—É (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞)
- `POST /api/cards/transfer` - –ø–µ—Ä–µ–≤–æ–¥ –º–µ–∂–¥—É —Å–≤–æ–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏
- `GET /api/cards/all` - –≤—Å–µ –∫–∞—Ä—Ç—ã –≤ —Å–∏—Å—Ç–µ–º–µ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞)

**–ê–¥–º–∏–Ω–∫–∞:**
- `GET /api/admin/users` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `DELETE /api/admin/users/{id}` - —É–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ curl

**1. –í—Ö–æ–¥:**
```bash
curl -X POST http://localhost:8080/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"admin123"}'
```

–í –æ—Ç–≤–µ—Ç–µ –±—É–¥–µ—Ç JWT —Ç–æ–∫–µ–Ω.

**2. –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã:**
```bash
curl -X POST http://localhost:8080/api/cards \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN_HERE" \
  -d '{
    "cardNumber": "1234567890123456",
    "cardholderName": "John Doe",
    "expiryDate": "2026-12-31"
  }'
```

–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 16 —Ü–∏—Ñ—Ä. –í –ë–î –æ–Ω —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ.

**3. –ü–µ—Ä–µ–≤–æ–¥ –º–µ–∂–¥—É –∫–∞—Ä—Ç–∞–º–∏:**
```bash
curl -X POST http://localhost:8080/api/cards/transfer \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN_HERE" \
  -d '{
    "fromCardId": 1,
    "toCardId": 2,
    "amount": 100.00
  }'
```

**–í–∞–∂–Ω–æ:** –î–ª—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –Ω—É–∂–µ–Ω –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –±–∞–ª–∞–Ω—Å –Ω–∞ –∫–∞—Ä—Ç–µ-–∏—Å—Ç–æ—á–Ω–∏–∫–µ. –í —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –Ω–µ—Ç API –¥–ª—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞, –ø–æ—ç—Ç–æ–º—É –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å –Ω–∞–ø—Ä—è–º—É—é –≤ –ë–î.

## –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞–ø—Ä—è–º—É—é –≤ –ë–î:

```powershell
docker exec -it bankcards-postgres psql -U postgres -d bankcards
```

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å SQL –∫–æ–º–∞–Ω–¥—ã:

```sql
-- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –∫–∞—Ä—Ç—ã
SELECT id, balance, cardholder_name, status FROM cards;

-- –û–±–Ω–æ–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å –∫–∞—Ä—Ç—ã (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤)
UPDATE cards SET balance = 1000.00 WHERE id = 1;

-- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
SELECT id, username, email FROM users;

-- –í—ã–π—Ç–∏
\q
```

### –ú–∏–≥—Ä–∞—Ü–∏–∏

–ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `src/main/resources/db/migration/` –∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ Liquibase.

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –ë–î —Å –Ω—É–ª—è:
```powershell
docker-compose down -v
docker-compose up -d
mvn spring-boot:run
```

–≠—Ç–æ —É–¥–∞–ª–∏—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏ —Å–æ–∑–¥–∞—Å—Ç –ë–î –∑–∞–Ω–æ–≤–æ.

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å–∫ —é–Ω–∏—Ç-—Ç–µ—Å—Ç–æ–≤:
```powershell
mvn test
```

–¢–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç:
- –ü–µ—Ä–µ–≤–æ–¥—ã –º–µ–∂–¥—É –∫–∞—Ä—Ç–∞–º–∏ (—É—Å–ø–µ—à–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã, –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤, –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∫–∞—Ä—Ç—ã)
- –ú–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–æ–≤ –∫–∞—Ä—Ç
- –í–∞–ª–∏–¥–∞—Ü–∏—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏

## –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
- –ï—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω–æ —á–µ—Ä–µ–∑ Maven - –Ω–∞–∂–º–∏—Ç–µ `Ctrl+C` –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ

**–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PostgreSQL:**
```powershell
docker-compose down
```

**–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PostgreSQL –∏ —É–¥–∞–ª–∏—Ç—å –¥–∞–Ω–Ω—ã–µ:**
```powershell
docker-compose down -v
```

–≠—Ç–æ —É–¥–∞–ª–∏—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–î. –ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ –ë–î –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ –∑–∞–Ω–æ–≤–æ.

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü–æ—Ä—Ç 8080 –∑–∞–Ω—è—Ç

**–û—à–∏–±–∫–∞:** `Port 8080 was already in use`

**–†–µ—à–µ–Ω–∏–µ:**
1. –ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–Ω–∏–º–∞–µ—Ç –ø–æ—Ä—Ç:
   ```powershell
   netstat -ano | findstr :8080
   ```
2. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å (–∑–∞–º–µ–Ω–∏—Ç–µ PID –Ω–∞ –Ω–æ–º–µ—Ä –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∫–æ–º–∞–Ω–¥—ã):
   ```powershell
   taskkill /PID <–Ω–æ–º–µ—Ä_–ø—Ä–æ—Ü–µ—Å—Å–∞> /F
   ```
3. –ò–ª–∏ –ø–æ–º–µ–Ω—è–π—Ç–µ –ø–æ—Ä—Ç –≤ `application.yml`:
   ```yaml
   server:
     port: 8081
   ```

### PostgreSQL –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–û—à–∏–±–∫–∞:** –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–∞–¥–∞–µ—Ç –∏–ª–∏ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
   ```powershell
   docker-compose logs postgres
   ```
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø–æ—Ä—Ç 5432 —Å–≤–æ–±–æ–¥–µ–Ω:
   ```powershell
   netstat -ano | findstr :5432
   ```
3. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ, –ø–æ–º–µ–Ω—è–π—Ç–µ –ø–æ—Ä—Ç –≤ `docker-compose.yml`:
   ```yaml
   ports:
     - "5433:5432"  # –≤–º–µ—Å—Ç–æ 5432:5432
   ```
   –ò —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ –ø–æ–º–µ–Ω—è–π—Ç–µ –≤ `application.yml`:
   ```yaml
   url: jdbc:postgresql://localhost:5433/bankcards
   ```

### –û—à–∏–±–∫–∞ 403 –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–∞—Ö –∫ API

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ –ø–µ—Ä–µ–¥–∞–Ω JWT —Ç–æ–∫–µ–Ω –∏–ª–∏ —Ç–æ–∫–µ–Ω –∏—Å—Ç—ë–∫

**–†–µ—à–µ–Ω–∏–µ:**
1. –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ `/api/auth/login` –∏ –ø–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω
2. –í Swagger UI –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É "Authorize" –∏ –≤—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω
3. –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ curl - –¥–æ–±–∞–≤—å—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Authorization: Bearer <token>`

### –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ Maven

**–û—à–∏–±–∫–∞:** `JAVA_HOME is not set correctly` –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–º–ø–∏–ª—è—Ü–∏–µ–π

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Java —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞: `java -version`
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Java 17+: `java -version` –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –≤–µ—Ä—Å–∏—é 17 –∏–ª–∏ –≤—ã—à–µ
3. –ï—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—Ä—Å–∏–π Java, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ JAVA_HOME:
   ```powershell
   $env:JAVA_HOME = "C:\Program Files\Java\jdk-17"
   ```

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –ë–î

**–û—à–∏–±–∫–∞:** `Connection refused` –∏–ª–∏ `Connection timed out`

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω: `docker ps`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–¥–æ—Ä–æ–≤: `docker ps` –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å "healthy"
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: `docker-compose logs postgres`
4. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ `application.yml` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **JWT Secret:** –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–º–µ–Ω–∏—Ç–µ `jwt.secret` –≤ `application.yml` –Ω–∞ —Å–ª—É—á–∞–π–Ω—É—é —Å—Ç—Ä–æ–∫—É. –°–µ–π—á–∞—Å —Ç–∞–º —Å—Ç–æ–∏—Ç –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –Ω—É–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

2. **–ü–∞—Ä–æ–ª–∏:** –¢–µ—Å—Ç–æ–≤—ã–µ –ø–∞—Ä–æ–ª–∏ (`admin123`, `user123`) - —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –Ω–∞–¥—ë–∂–Ω—ã–º–∏ –ø–∞—Ä–æ–ª—è–º–∏.

3. **SSL/TLS:** –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å HTTPS. –í —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ HTTP (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ).

4. **–ë–∞–ª–∞–Ω—Å –∫–∞—Ä—Ç:** –í —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –Ω–µ—Ç API –¥–ª—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞. –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å –Ω–∞–ø—Ä—è–º—É—é –≤ –ë–î –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

5. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** –í `application.yml` –≤–∫–ª—é—á–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (`DEBUG` —É—Ä–æ–≤–µ–Ω—å). –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –ª—É—á—à–µ –ø–æ—Å—Ç–∞–≤–∏—Ç—å `INFO` –∏–ª–∏ `WARN`.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞–ø–∫–∏:
- `src/main/java/` - –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ Java
- `src/main/resources/` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –º–∏–≥—Ä–∞—Ü–∏–∏
- `src/test/` - —Ç–µ—Å—Ç—ã
- `docs/` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (OpenAPI —Å—Ö–µ–º–∞)
- `docker-compose.yml` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker –¥–ª—è PostgreSQL

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ –∏–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ PostgreSQL, —Ç–∞–º –æ–±—ã—á–Ω–æ –≤–∏–¥–Ω–æ –≤ —á—ë–º –ø—Ä–æ–±–ª–µ–º–∞.
